---
import BaseLayout from "../layouts/BaseLayout.astro";
import HorizontalCard from "../components/HorizontalCard.astro";
import { getCollection } from "astro:content";
import createSlug from "../lib/createSlug"

import { news } from '../content/news';


const posts = (await getCollection("blog")).sort((a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf());

const last_posts = posts.slice(0, 3);

---

<BaseLayout sideBarActiveItemID="home">
  <div class="pb-12 mt-5">
    <div class="text-5xl font-bold">Miguel Antunes García</div>
    <div class="text-3xl py-3 font-bold">PhD student in AI for Perception and Prediction in Autonomous Driving </div>
    <div class="py-2">
      <text class="text-lg">
        Hi!! My name is Miguel Antunes García. 
        I obtained a BSc in <b>Electronics and Communications</b> in 2021 and a MSc in <b>Telecommunications Engineering</b> in 2023, both from the <a href="https://www.uah.es/es/" style="color: #4f46e5; text-decoration: none;">University of Alcalá (UAH)</a>.
        Currently I am a PhD student at UAH focused on <b>Deep Learning for Unified Perception and Prediction in Autonomous Driving</b>,
        as a member of the research staff in the <a href="https://www.linkedin.com/company/robesafe-research-group/" style="color: #4f46e5; text-decoration: none;">RobeSafe Research Group</a>, in the Electronics Department.
        My research interests cover Artificial Intelligence, Vehicle Motion Prediction and Self-Driving Vehicle Architectures.
      </text>
    </div>

    <!-- Contact Box -->
    <div class="mt-8 p-6 bg-base-200 rounded-xl shadow-lg">
      <h2 class="text-2xl font-bold mb-4">Contact Information</h2>
      
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <!-- Email -->
        <a href="mailto:miguel.antunes@uah.es" class="flex items-center gap-2 hover:text-accent transition-colors">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <rect width="20" height="16" x="2" y="4" rx="2"/>
            <path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"/>
          </svg>
          <span>miguel.antunes@uah.es</span>
        </a>

        <!-- GitHub -->
        <a href="https://github.com/miguelag99" target="_blank" rel="noopener noreferrer" class="flex items-center gap-2 hover:text-accent transition-colors">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"/>
            <path d="M9 18c-4.51 2-5-2-7-2"/>
          </svg>
          <span>GitHub: miguelag99</span>
        </a>

        <!-- LinkedIn -->
        <a href="https://es.linkedin.com/in/miguel-antunes-garcia" target="_blank" rel="noopener noreferrer" class="flex items-center gap-2 hover:text-accent transition-colors">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"/>
            <rect width="4" height="12" x="2" y="9"/>
            <circle cx="4" cy="4" r="2"/>
          </svg>
          <span>LinkedIn</span>
        </a>

        <!-- ORCID -->
        <a href="https://orcid.org/0009-0008-5627-5325" target="_blank" rel="noopener noreferrer" class="flex items-center gap-2 hover:text-accent transition-colors">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" width="24" height="24" class="fill-current">
            <path d="M294.8 188.2h-45.9V342h47.5c67.6 0 83.1-51.3 83.1-76.9 0-41.6-26.5-76.9-84.7-76.9zM256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm-80.8 360.8h-29.8v-207.5h29.8zm-14.9-231.1a19.6 19.6 0 1 1 19.6-19.6 19.6 19.6 0 0 1 -19.6 19.6zM300 369h-81V161.3h80.6c76.7 0 110.4 54.8 110.4 103.9C410 318.4 368.4 369 300 369z"/>
          </svg>
          <span>ORCID: 0009-0008-5627-5325</span>
        </a>

        <!-- Google Scholar -->
        <a href="https://scholar.google.es/citations?user=5ZWa7pIAAAAJ&hl=es" target="_blank" rel="noopener noreferrer" class="flex items-center gap-2 hover:text-accent transition-colors">
          <svg viewBox="0 0 16 16" aria-hidden="true" width="22" height="22" fill="currentColor">
            <path d="M15.545 6.558a9.4 9.4 0 0 1 .139 1.626c0 2.434-.87 4.492-2.384 5.885h.002C11.978 15.292 10.158 16 8 16A8 8 0 1 1 8 0a7.7 7.7 0 0 1 5.352 2.082l-2.284 2.284A4.35 4.35 0 0 0 8 3.166c-2.087 0-3.86 1.408-4.492 3.304a4.8 4.8 0 0 0 0 3.063h.003c.635 1.893 2.405 3.301 4.492 3.301 1.078 0 2.004-.276 2.722-.764h-.003a3.7 3.7 0 0 0 1.599-2.431H8v-3.08z"/>
          </svg>
          <span>Google Scholar</span>
        </a>


      </div>
    </div>

  </div>

  <!-- News -->
  <div class="bg-base-200 rounded-xl p-6 mb-8 shadow-lg">
    <h2 class="text-3xl font-bold mb-6">Recent News</h2>
    
    {news.map((yearGroup) => (
      <div class="mb-6">
        <h3 class="text-2xl font-bold mb-4 border-b border-base-300 pb-2">
          {yearGroup.year}
        </h3>
        
        <div class="space-y-4">
          {yearGroup.items.map((item) => (
            <div class="border-b border-base-300 pb-4 last:border-b-0">
              <div class="flex items-start">
                <span class="text-sm text-base-content/70 mr-4 min-w-[100px]">
                  {item.date}
                </span>
                <div>
                  <h4 class="text-xl font-semibold mb-2">
                    {item.link ? (
                      <a 
                        href={item.link} 
                        class="hover:text-accent transition-colors flex items-center gap-2"
                      >
                        <span set:html={item.title} />
                        {item.icon && <span set:html={item.icon} />}
                      </a>
                    ) : (
                      <div class="flex items-center gap-2">
                        <span set:html={item.title} />
                        {item.icon && <span set:html={item.icon} />}
                      </div>
                    )}
                  </h4>
                  <p class="text-base-content/80" set:html={item.description}></p>
                </div>
              </div>
            </div>
          ))}
        </div>
      </div>
    ))}
  </div>


  <!-- <div>
    <div class="text-3xl w-full font-bold mb-2">My last projects</div>
  </div>

  <HorizontalCard
    title="Demo Project 1"
    img="/post_img.webp"
    desc="Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."
    url="#"
    badge="NEW"
  />
  <div class="divider my-0"></div>
  <HorizontalCard
    title="Demo Project 2"
    img="/post_img.webp"
    desc="Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."
    url="#"
  />
  <div class="divider my-0"></div>
  <HorizontalCard
    title="Demo Project 3"
    img="/post_img.webp"
    desc="Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."
    url="#"
    badge="FOSS"
  /> -->

  <!-- <div>
    <div class="text-3xl w-full font-bold mb-5 mt-10">Latest from blog</div>
  </div>

  {
    last_posts.map((post) => (
      <>
        <HorizontalCard
          title={post.data.title}
          img={post.data.heroImage}
          desc={post.data.description}
          url={"/blog/" + createSlug(post.data.title, post.slug)}
          target="_self"
          badge={post.data.badge}
        />
        <div class="divider my-0" />
      </>
    ))
  } -->
  
</BaseLayout>
