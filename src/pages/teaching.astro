---
import Layout from '../layouts/Layout.astro';
import HorizontalCard from "../components/HorizontalCard.astro";

import { getCollection } from 'astro:content';

const undergrad_projects = await getCollection('undergrad_projects');
const grad_projects = await getCollection('grad_projects');
const undergrad_subjects = await getCollection('undergrad_subjects');
const grad_subjects = await getCollection('grad_subjects');
---
<Layout sideBarActiveItemID="teaching">
    <section aria-label="Teaching">
        <div class="pb-12 mt-5">
            <!-- Undergraduate -->
            <!-- Academic Subjects -->
            <div class="mb-12">
            <h2 class="text-3xl font-bold pb-5">Undergraduate Academic Subjects</h2>
            {undergrad_subjects.map((subject) => (
                <div class="bg-base-200 rounded-xl p-6 mb-6 shadow-lg">
                <div class="flex flex-col md:flex-row gap-4 mb-4">
                    <div class="flex-grow">
                    <h3 class="text-2xl font-bold">{subject.data.title}</h3>
                    <p class="text-sm text-base-content/70 mt-1">
                        {subject.data.institution} | {subject.data.period}
                    </p>
                    </div>
                    <div class="flex-shrink-0 mt-2">
                        <span class="badge badge-accent">{subject.data.status}</span>
                    </div>
                </div>
                <p class="mb-4 text-base-content/80">{subject.data.description}</p>
                <div class="border-l-2 border-accent pl-4">
                    <h4 class="font-semibold mb-2">Main Topics:</h4>
                    <ul class="list-disc list-inside space-y-0">
                    {subject.data.topics.map((topic) => (
                        <li class="text-base-content/70">{topic}</li>
                    ))}
                    </ul>
                </div>
                </div>
            ))}
            </div>

            <!-- Projects -->
            <div class="mb-12">
                <h2 class="text-3xl font-bold pb-5">Undergraduate Projects</h2>
                {undergrad_projects.map((project) => (
                    <div class="bg-base-200 rounded-xl p-6 mb-6 shadow-lg">
                        <div class="flex flex-col md:flex-row gap-4 mb-4">
                            <div class="flex-grow">
                                <h3 class="text-2xl font-bold">{project.data.title}</h3>
                                <p class="text-sm text-base-content/70 mt-1">
                                    {project.data.student} | {project.data.period}
                                </p>
                            </div>
                            <div class="flex-shrink-0 mt-2">
                                <span class="badge badge-accent">{project.data.status}</span>
                            </div>
                        </div>
                        <p class="mb-4 text-base-content/80">{project.data.description}</p>
                        <div class="border-l-2 border-accent pl-4">
                            <h4 class="font-semibold mb-2">Main Topics:</h4>
                            <ul class="list-disc list-inside space-y-0">
                                {project.data.topics.map((topic) => (
                                    <li class="text-base-content/70">{topic}</li>
                                ))}
                            </ul>
                        </div>
                    </div>
                ))}
            </div>

            <!-- Graduate -->
            <div class="mb-12">
            <h2 class="text-3xl font-bold pb-5">Graduate Academic Subjects</h2>
            {grad_subjects.map((subject) => (
                <div class="bg-base-200 rounded-xl p-6 mb-6 shadow-lg">
                    <div class="flex flex-col md:flex-row gap-4 mb-4">
                        <div class="flex-grow">
                            <h3 class="text-2xl font-bold">{subject.data.title}</h3>
                            <p class="text-sm text-base-content/70 mt-1">
                                {subject.data.institution} | {subject.data.period}
                            </p>
                        </div>
                        <div class="flex-shrink-0 mt-2">
                            <span class="badge badge-accent">{subject.data.status}</span>
                        </div>
                    </div>
                    <p class="mb-4 text-base-content/80">{subject.data.description}</p>
                    <div class="border-l-2 border-accent pl-4">
                        <h4 class="font-semibold mb-2">Main Topics:</h4>
                        <ul class="list-disc list-inside space-y-0">
                            {subject.data.topics.map((topic) => (
                                <li class="text-base-content/70">{topic}</li>
                            ))}
                        </ul>
                    </div>
                </div>
            ))}

            <h2 class="text-3xl font-bold pb-5 mt-10">Graduate Projects</h2>
            {grad_projects.map((project) => (
                <div class="bg-base-200 rounded-xl p-6 mb-6 shadow-lg">
                    <div class="flex flex-col md:flex-row gap-4 mb-4">
                        <div class="flex-grow">
                            <h3 class="text-2xl font-bold">{project.data.title}</h3>
                            <p class="text-sm text-base-content/70 mt-1">
                                {project.data.student} | {project.data.period}
                            </p>
                        </div>
                        <div class="flex-shrink-0 mt-2">
                            <span class="badge badge-accent">{project.data.status}</span>
                        </div>
                    </div>
                    <p class="mb-4 text-base-content/80">{project.data.description}</p>
                    <div class="border-l-2 border-accent pl-4">
                        <h4 class="font-semibold mb-2">Main Topics:</h4>
                        <ul class="list-disc list-inside space-y-0">
                            {project.data.topics.map((topic) => (
                                <li class="text-base-content/70">{topic}</li>
                            ))}
                        </ul>
                    </div>
                </div>
            ))}

        </div>
    </section>
</Layout>